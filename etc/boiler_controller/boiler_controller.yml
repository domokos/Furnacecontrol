--- # Boiler controller config file
#
#
#
# *********************************************************************************************
# Temperature targets - setting these is intended to actively infulence the controller 
# *********************************************************************************************
# 
# Targets
:target_living_temp: 22.0
:target_upstairs_temp: 21.5
:target_basement_temp: 25.5
:mode_threshold: 15.0
:target_HW_temp: 51.0
#
#
#
# *********************************************************************************************
# Low level Operation parameters 
# *********************************************************************************************
# 
#
# Magnetic valve parameters
:magnetic_valve_movement_days: 3
:magnetic_valve_movement_logfile: /var/log/boiler_controller/boiler_valve_log
#
# Operation delays
:logger_delay_whole_sec: 15
:main_loop_delay: 1
:circulation_maintenance_delay: 8
:shutdown_delay: 10
#
# HW temp shift.
# Shifg the HW ntc curve up/down with the parameter - for calibration reasosns only
:hw_temp_shift: 6
#
# External temperature below which floor heating is active
:floor_heating_threshold: 13.0
#
# Parameters of target water temperature calculation curve
# Target water temperature is calculated by the Polycurve based on points given here
# by applying linear curves between the points
:heating_watertemp_polycurve:
# @ -20 C and below: 70C
- - -20
  - 70
# @ -10C: 50C
- - -10
  - 50
# @ 0C: 40C 
- - 0
  - 38
# @ 10C: 33C
- - 10
  - 30
# @ 15C and above: 27C
- - 15
  - 27
#
:floor_watertemp_polycurve:
# @ -4 C and below: 40C
- - -4
  - 40
# @ 5C: 36C
- - 5
  - 36
# @ 10C and above: 27C 
- - 10
  - 27
#
#
# Mock values for non-existent/dry run sensors
:forward_mock_temp: 37.0
:return_mock_temp: 31.0
:upper_buffer_mock_temp: 31.0
:lower_buffer_mock_temp: 31.0
:HW_mock_temp: 55.0
:living_mock_temp: 19.0
:upstairs_mock_temp: 23.0
:basement_mock_temp: 26.0
:external_mock_temp: 5.0
:mixer_forward_mock_temp: 35.0
#
#
# *********************************************************************************************
# Buffer heating parameters 
# *********************************************************************************************
#
:three_way_movement_time: 10
:buffer_heat_control_loop_delay: 2
:buffer_base_temp: 20.0
:buffer_heater_log_period: 120
:buffer_control_log_period: 120
#
# Heat initialization constants
:init_buffer_reqd_fill_reserve: 80.0
:buffer_heater_state_change_relaxation_time:  180
#
# Heating state change related constants
:forward_above_target: 3.3
:min_delta_t_to_maintain: 4.0
:buffer_passthrough_overshoot: 3
:buffer_expiry_threshold: 2.5
:buffer_passthrough_fwd_temp_limit: 45.0
:boiler_on_detector_delta_t_threshold: 2.0
:boiler_on_detector_max_target_overshoot: 3.0
:boiler_on_detector_min_below_target: 5.0
:buffer_passtrough_heat_protection_threshold: 2.0
#
#
# *********************************************************************************************
# Mixer parameters 
# *********************************************************************************************
#
:mixer_limited_log_period: 120
:mixer_filter_size: 2
:mixer_sampling_delay: 3
:mixer_control_loop_delay: 30
:mixer_start_delay_after_HW: 50
:mixer_motor_kp_parameter: 1.2
:mixer_motor_ki_parameter: 0.3
:mixer_motor_ival_limit: 0.6
:mixer_unidirectional_movement_time_limit: 65
:mixer_movement_time_hysteresis: 5
:min_mixer_motor_movement_time: 0.5
:max_mixer_motor_movement_time: 5
#
# *********************************************************************************************
# Controller network addresses 
# *********************************************************************************************
# 
# Main panel device - Boiler room
:main_controller_dev_addr: 11
:hw_sensor_reg_addr: 1
:basement_sensor_reg_addr: 2
:upper_buffer_sensor_reg_addr: 3
:lower_buffer_sensor_reg_addr: 4
:return_valve_reg_addr: 5
:forward_valve_reg_addr: 6
:radiator_pump_reg_addr: 7
:floor_pump_reg_addr: 8
:hydr_shift_pump_reg_addr: 9
:hot_water_pump_reg_addr: 10
:basement_radiator_valve_reg_addr: 11
:basement_floor_valve_reg_addr: 12
:heater_relay_reg_addr: 13
:hw_wiper_reg_addr: 14
:heating_wiper_reg_addr: 15
#
# Six owbus device - Living floor
:six_owbus_dev_addr: 10
:external_sensor_reg_addr: 1
:living_sensor_reg_addr: 2
:upstairs_sensor_reg_addr: 3
:living_floor_valve_reg_addr: 4
:upstairs_floor_valve_reg_addr: 5
:read_single_rom_code_on_owbus_0_reg_addr: 6
#
# Mixer controller - Boiler room
:mixer_controller_dev_addr: 12
:mixer_fwd_sensor_reg_addr: 1
:forward_sensor_reg_addr: 2
:return_sensor_reg_addr: 3
:mixer_cw_reg_addr: 4
:mixer_ccw_reg_addr: 5
:mixer_hydr_shift_bypass_valve_reg_addr: 6
:mixer_spareb_switch_reg_addr: 7
:mixer_gpio_reg_addr: 8
:read_single_rom_code_on_owbus_reg_addr: 9
